# å¤–å–åº”ç”¨

<h2>ğŸŒ</h2>
<ul>
  <li><a href="https://github.com/SamuelRocha91/delivery_back" target="_blank">PortuguÃªs</a></li>
  <li><a href="https://github.com/SamuelRocha91/delivery_back/blob/main/README_es.md" target="_blank">EspaÃ±ol</a></li>
  <li><a href="https://github.com/SamuelRocha91/delivery_back/blob/main/README_en.md" target="_blank">English</a></li>
  <li><a href="https://github.com/SamuelRocha91/delivery_back/blob/main/README_ru.md" target="_blank">Ğ ÑƒÑÑĞºĞ¸Ğ¹</a></li>
  <li><a href="https://github.com/SamuelRocha91/delivery_back/blob/main/README_ch.md" target="_blank">ä¸­æ–‡</a></li>
  <li><a href="https://github.com/SamuelRocha91/delivery_back/blob/main/README_ar.md" target="_blank">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</a></li>
</ul>

æ­¤å­˜å‚¨åº“ä»£è¡¨äº†ä¸€ä¸ªç”¨äºå¤–å–çš„Railsåç«¯ï¼ŒåŒ…æ‹¬ä¸€ä¸ªç”¨äºç®¡ç†æ•°æ®çš„æ¥å£ï¼Œé€‚ç”¨äºå…·æœ‰ç®¡ç†å‘˜å’Œå¼€å‘è€…è§’è‰²çš„ç”¨æˆ·ã€‚

![ç®¡ç†å‘˜ç•Œé¢ä½¿ç”¨ç¤ºä¾‹](./assets/admin.gif)

## ç›¸å…³å­˜å‚¨åº“

- [Consumy åº”ç”¨](https://github.com/SamuelRocha91/consumy) - æ¶ˆè´¹è€…åº”ç”¨
- [Seller åº”ç”¨](https://github.com/SamuelRocha91/seller_application) - å–å®¶åº”ç”¨
- [Paymenty API](https://github.com/SamuelRocha91/paymenty) - æ”¯ä»˜ API

### ä½¿ç”¨çš„æ¦‚å¿µå’Œ Gem

æœ¬é¡¹ç›®æ¶‰åŠå¹¶ä½¿ç”¨äº†ä»¥ä¸‹æ¦‚å¿µå’Œ Gemï¼š

- **åå°å¤„ç†ï¼š** ä½¿ç”¨ Sidekiq è¿›è¡Œå¼‚æ­¥ä»»åŠ¡å¤„ç†ï¼ˆé…åˆ Redisï¼‰ã€‚
- **åˆ†é¡µï¼š** å®ç°èµ„æºåˆ—è¡¨çš„åˆ†é¡µï¼ˆkaminariï¼‰ã€‚
- **RSpec å’Œ Shoulda Matchers æµ‹è¯•ï¼š** ä½¿ç”¨ RSpec å’Œ Shoulda Matchers è¿›è¡Œå•å…ƒå’Œé›†æˆæµ‹è¯•ï¼Œä»¥ç®€åŒ–æ–­è¨€ã€‚
- **SimpleCov æµ‹è¯•è¦†ç›–ï¼š** ä½¿ç”¨ SimpleCov è‡ªåŠ¨åŒ–ä»£ç è¦†ç›–åˆ†æã€‚
- **Discard è½¯åˆ é™¤ï¼š** ä½¿ç”¨ Discard Gem å®ç°è½¯åˆ é™¤ï¼Œä¿æŒæ•°æ®åº“ä¸­çš„è®°å½•è€Œä¸è¿›è¡Œç‰©ç†åˆ é™¤ã€‚
- **æ•°æ®åŒ¿ååŒ–ï¼š** åº”ç”¨æ•æ„Ÿæ•°æ®åŒ¿ååŒ–æŠ€æœ¯ã€‚
- **RESTful APIï¼š** å¼€å‘ RESTful API ç”¨äºåç«¯å’Œå‰ç«¯ä¹‹é—´çš„é€šä¿¡ã€‚
- **Swaggerï¼š** ä½¿ç”¨ Swagger è‡ªåŠ¨ç”Ÿæˆ API æ–‡æ¡£ï¼Œä¾¿äºç†è§£å’Œä½¿ç”¨ã€‚
- **Dockerï¼š** ä½¿ç”¨ Docker è¿›è¡Œå®¹å™¨åŒ–ï¼Œä»¥ç®€åŒ–åº”ç”¨çš„å¼€å‘å’Œéƒ¨ç½²ã€‚
- **å›¾åƒå¤„ç†ï¼š** ä½¿ç”¨ç‰¹å®šå·¥å…·è¿›è¡Œåª’ä½“å¤„ç†ã€‚
- **WebSockets å’Œ SSEï¼š** ä½¿ç”¨ WebSockets å’Œ Server-Sent Events (SSE) å®ç°å®æ—¶é€šä¿¡ï¼Œç”¨äºèŠå¤©æˆ–å®æ—¶æ›´æ–°ç­‰åŠŸèƒ½ã€‚
- **è·ç¦»è®¡ç®—ï¼š** ä½¿ç”¨ geocoder Gem å®ç°ä»å•†ä¸šåœºæ‰€åˆ°å®¢æˆ·ä½å®…çš„å…¬é‡Œè·ç¦»è®¡ç®—ã€‚
- **çº¿ç¨‹ï¼š** ä½¿ç”¨çº¿ç¨‹æå‡å¹¶å‘æ€§å’Œå¹¶è¡Œæ“ä½œçš„æ€§èƒ½ã€‚

## é¡¹ç›®è®¾ç½®

### ä½¿ç”¨ Docker

è¦ä½¿ç”¨ Docker è¿è¡Œæ­¤é¡¹ç›®ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

#### å…ˆå†³æ¡ä»¶

ç¡®ä¿æ‚¨çš„è®¡ç®—æœºä¸Šå·²å®‰è£… Docker å’Œ Docker Composeã€‚

- [Docker](https://docs.docker.com/get-docker/)
- [Docker Compose](https://docs.docker.com/compose/install/)

#### é…ç½®

1. å…‹éš†ç›¸å…³å­˜å‚¨åº“ï¼š

   ```sh
   git clone https://github.com/SamuelRocha91/consumy.git
   git clone https://github.com/SamuelRocha91/seller_application.git
   git clone https://github.com/SamuelRocha91/paymenty.git
   git clone https://github.com/SamuelRocha91/delivery_back.git
   ```

2. ä¸‹è½½ `docker-compose.yml` æ–‡ä»¶ä»¥é…ç½®æ‰€éœ€çš„ Docker æœåŠ¡ï¼Œå¹¶å°†å…¶æ”¾å…¥å…‹éš†çš„å­˜å‚¨åº“æ ¹ç›®å½•ï¼š

   - [ä¸‹è½½ docker-compose.yml](https://drive.google.com/file/d/1kzs-DJGCvYImBQAqr1GI-zwoNha_b8tA/view?usp=drive_link)

3. åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼ˆåŒ…å« `docker-compose.yml` æ–‡ä»¶çš„ä½ç½®ï¼‰ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä»¥æ„å»ºå’Œå¯åŠ¨æœåŠ¡ï¼š

   ```sh
   docker-compose up --build
   ```

4. è®¿é—®åç«¯åº”ç”¨ç¨‹åºæ—¶ï¼Œç‚¹å‡»â€œRUN PENDING MIGRATESâ€ä»¥ç”Ÿæˆè¿ç§»ã€‚

5. æ¨èè¿›å…¥åç«¯åº”ç”¨ç¨‹åºçš„å®¹å™¨å¹¶è¿è¡Œç§å­æ•°æ®ï¼š

   ```sh
   docker exec -it backendContainerName /bin/sh 
   rails db:seed
   ```

6. éœ€è¦åœ¨ `delivery_back` åº”ç”¨ç¨‹åºä¸­åˆ›å»ºä¸€ä¸ª `.env` æ–‡ä»¶æ¥é…ç½®ç¯å¢ƒå˜é‡ã€‚ä¾‹å¦‚ï¼š

   ```sh
   JWT_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxx
   ```

7. éœ€è¦åœ¨ `consumy` å’Œ `seller` åº”ç”¨ç¨‹åºä¸­åˆ›å»ºä¸€ä¸ª `.env.development` æ–‡ä»¶æ¥é…ç½®ç¯å¢ƒå˜é‡ã€‚ä¾‹å¦‚ï¼š

   ```sh
   VITE_BASE_URL=http://localhost:3000
   VITE_X_API_KEY=Z34dqYJ8qBelcmcBfWNuHc5JB/w=
   ```

**æ³¨æ„** API å¯†é’¥å¯ä»¥åœ¨åç«¯å®¹å™¨å†…é€šè¿‡æ§åˆ¶å°ç”Ÿæˆï¼Œç„¶åç²˜è´´åˆ° `.env` æ–‡ä»¶ä¸­ã€‚

**æ³¨æ„** å¦ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡å…·æœ‰å¼€å‘è€…è§’è‰²çš„ç”¨æˆ·åœ¨åç«¯ç•Œé¢ä¸­ç”Ÿæˆå¯†é’¥ï¼Œç„¶åå¤åˆ¶ç²˜è´´åˆ°ç›¸åº”çš„åº”ç”¨ç¨‹åºä¸­ã€‚

**æ³¨æ„** ä¸è¦å¿˜è®°é‡æ–°å¯åŠ¨å®¹å™¨ä»¥åŠ è½½ç¯å¢ƒå˜é‡ã€‚

![é…ç½®ç¤ºä¾‹](./assets/apikey.gif)

### ä¸ä½¿ç”¨ Docker

è¦åœ¨æœ¬åœ°ç¯å¢ƒä¸­é…ç½®å’Œè¿è¡Œé¡¹ç›®è€Œä¸ä½¿ç”¨ Dockerï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

#### å…ˆå†³æ¡ä»¶

ç¡®ä¿ Redis å’Œ Sidekiq å·²æ­£ç¡®é…ç½®å¹¶è¿è¡Œåœ¨æœ¬åœ°ã€‚æ­¤å¤–ï¼Œå®‰è£… R æ‰€éœ€çš„ä¾èµ–ï¼š

```sh
install.packages("FactoMineR")
install.packages("ggplot2")
install.packages("reshape2")
```

#### å®‰è£…ä¾èµ–

```sh
bundle install
```

#### é…ç½®æ•°æ®åº“

åˆ›å»ºæ•°æ®åº“å¹¶æ‰§è¡Œè¿ç§»ï¼š

```sh
rails db:create
rails db:migrate
```

#### å¯åŠ¨æœ¬åœ°æœåŠ¡å™¨

è¦æœ¬åœ°å¯åŠ¨æœåŠ¡å™¨ï¼š

```sh
rails server
```

#### è¿è¡Œæµ‹è¯•

è¦è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•ï¼š

```sh
bundle exec rspec
```

#### å¯åŠ¨ Redis å’Œ Sidekiq

ç¡®ä¿ Redis å·²å®‰è£…å¹¶æ­£åœ¨è¿è¡Œã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨ Redisï¼š

```sh
redis-server
```

ç„¶åå¯åŠ¨ Sidekiqï¼š

```sh
bundle exec sidekiq
```

---

è¯¥é¡¹ç›®ä½œä¸º LWSA Quero Ser Dev ç¬¬9å±Šè®¡åˆ’çš„è¯„ä¼°è¦æ±‚åˆ›å»ºã€‚

---